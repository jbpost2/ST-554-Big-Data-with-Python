---
title: "Data Storage and Basic SQL"
author: "Justin Post"
output:
  xaringan::moon_reader:
    seal: false
    lib_dir: libs
    css: [default, "css/ncsu.css", "css/ncsu-fonts.css", "css/mycss.css"]
    nature:
      beforeInit: ["js/ncsu-scale.js"]
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
    includes:
      in_header: "partials/header.html"
    self_contained: yes
editor_options: 
  chunk_output_type: console
---


```{r, include=FALSE,warning=FALSE,message=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  dev = "svg",
  fig.align = "center",
  #fig.width = 11,
  #fig.height = 5
  cache = TRUE
)

# define vars
om = par("mar")
lowtop = c(om[1],om[2],0.1,om[4])
library(tidyverse)
library(knitr)
library(reticulate)
use_python("C:\\Users\\jbpost2\\AppData\\Local\\Programs\\Python\\Python310\\python.exe")
#use_python("C:\\python\\python.exe")
options(dplyr.print_min = 5)
options(reticulate.repl.quiet = TRUE)
```


layout: false
class: title-slide-section-red, middle

# Data Storage and Basic SQL
Justin Post 

---
layout: true

<div class="my-footer"><img src="img/logo.png" style="height: 60px;"/></div> 


---

# Basic Data Storage

We've seen the use of flat files to store data

- .csv
- .txt
- .dat

and JSON data (think dictionary) 


---

# Basic Data Storage

We've seen the use of flat files to store data

- .csv
- .txt
- .dat

and JSON data (think dictionary) 

- When we have multiple data sets (or sources) a **database** is often used along with a database management system (DBMS)

- The data, the DBMS, and the applications associated with them are often simply called a database

<!--Database software is used to create, edit, and maintain database files and records, enabling easier file and record creation, data entry, data editing, updating, and reporting. The software also handles data storage, backup and reporting, multi-access control, and security. Strong database security is especially important today, as data theft becomes more frequent. Database software is sometimes also referred to as a “database management system” (DBMS).-->


---

# Database - Organized Collection of Data  

- Usually think of a bunch of 2D tables that are related by keys (a relational database)

```{r, echo = FALSE, fig.align='center', out.width = '600px'}
knitr::include_graphics("img/dbDiagram.jpg")
```


---

# Databases

Many common types of relational databases management systems (RDBMS)

- [Oracle](https://docs.oracle.com/cd/E11882_01/server.112/e40540/intro.htm#CNCPT001)
- [MySQL](https://dev.mysql.com/doc/)
- [SQL Server](https://docs.microsoft.com/en-us/sql/relational-databases/databases/databases?view=sql-server-ver15)
- [PostgreSQL](https://www.postgresql.org/about/)
- [SQLite](https://www.sqlite.org/index.html)
- [Azure SQL](https://docs.microsoft.com/en-us/azure/azure-sql/)
- ...

Most RDBMS have their own **Structured Query Language** (SQL) - basic functionality similar 


---

# Actions on Databases

There are a few common actions we often want to perform on a database (CRUD)

- Create data
- Read data
- Update data
- Delete data
- Plus: Provide access control, monitoring, tuning, and backup/recovery

Write SQL code to do these actions


---

# ACID properties and RDBMS

[Four properties define relational database transactions](https://www.oracle.com/database/what-is-a-relational-database/): (ACID)

- **Atomicity** defines all the elements that make up a complete database transaction.
- **Consistency** defines the rules for maintaining data points in a correct state after a transaction.
- **Isolation** keeps the effect of a transaction invisible to others until it is committed, to avoid confusion.
- **Durability** ensures that data changes become permanent once the transaction is committed.


---

# Before We Get to Big Data...

We should understand how to use basic SQL first

- We'll look at accessing an SQLite database via python

- To a notebook (sqlite_in_python.ipynb)!


---

# Recap

- Databases are commonly used to store lots of data

    + The data, the DBMS, and the applications associated with them are often simply called a database
    
- Create data, Read data, Update data, Delete data (CRUD)

- Transactions all adhere to ACID (Atomicity, Consistency, Isolation, and Durability) properties




